<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>

<record id="action_scrap_collection" model="ir.actions.act_window">
   <field name="name">Scrap Collection</field>
   <field name="type">ir.actions.act_window</field>
   <field name="res_model">scrap.collection</field>
   <field name="view_mode">tree,form</field>
   <field name="help" type="html">
       <p class="o_view_nocontent_smiling_face">
           Add a scrap collection
       </p>
   </field>
</record>


    <record id="action_scrap_collection_form" model="ir.ui.view">
    <field name="name">scrap.collection.form</field>
    <field name="model">scrap.collection</field>
    <field name="arch" type="xml">
        <form>
               <header>
                        <button name="make_payment_from_collection" string="Make payment" type="object" class="oe_highlight"/>
                        <!-- <button name="cancel_collection" string="cancel" type="object"  confirm="Are you sure you want to cancel the record?" /> -->
                         <button name="cancel_collection" confirm="Are you sure you want to cancel the collection record?" attrs="{'invisible': [('scrap_collection_payment', 'in', ('paid','cancel')),('scrap_collection_state', 'in', ('in_storage','cancel'))]}" string="Cancel" groups="base.group_user" type="object" data-hotkey="z"/>
                        <field name="scrap_collection_state" nolabel="1" options="{'clickable':1}" status_visible="in_process,collected,in_storage,cancel" widget="statusbar"/>
                </header>
            <sheet>
                <div class="oe_button_box" name="inventory_button_box">
                            <button class="oe_stat_button" icon="fa-bitbucket" name="collection_to_inventory" string="Inventory" type="object">
                                <field class="oe_stat_button" name="collection_to_inventory_count"/>
                            </button>
                        </div>
                <group>
                    <group>
                         <field name="scrap_seller_name"/>
                        <field name="scrap_collection_date"/>
                        <field name="scrap_address"/>
                    </group>

                    <group>
                        <field name="scrap_collection_payment" />
                        <field name="scrap_total_price"/>

                    </group>
                </group>
                <group>
                             <notebook>
                            <page string="Order Lines">
                                <field name="add_scrap_lines">
                                    <tree editable="bottom">
                                    <field name="scrap_collection_category" />
                                    <field name="scrap_collection_price"/>
                                    <field name="scrap_collection_quantity" sum="scrap_collection_quantity" />
                                    <field name="scrap_collection_total_price" sum="scrap_collection_total_price"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="About">
                                This is an example of notebooks
                            </page>
                        </notebook>

                </group>
            </sheet>
        </form>
    </field>
 </record>

 <record id="action_scrap_collection_tree" model="ir.ui.view">
   <field name="name">scrap.collection.tree</field>
   <field name="model">scrap.collection</field>
   <field name="arch" type="xml">
       <tree>
            <field name="id"/>
            <field name="scrap_collection_date"/>
            <!-- <field name="scrap_collection_payment" /> -->
             <field name="scrap_collection_payment" decoration-success="scrap_collection_payment == 'paid'" decoration-warning="scrap_collection_payment == 'not_paid'" decoration-danger="scrap_collection_payment == 'cancel'" widget="badge"/>
            <field name="scrap_price"/>
            <field name="scrap_quantity" sum="scrap_quantity"/>
            <field name="scrap_total_price" sum="scrap_total_price"/>
       </tree>
   </field>
</record>
</data>

</odoo>


