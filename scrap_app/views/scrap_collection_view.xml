<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>

<record id="action_scrap_collection" model="ir.actions.act_window">
   <field name="name">Scrap Collection</field>
   <field name="type">ir.actions.act_window</field>
   <field name="res_model">scrap.collection</field>
   <field name="view_mode">tree,form</field>
   <field name="help" type="html">
       <p class="o_view_nocontent_smiling_face">
           Add a scrap collection
       </p>
   </field>
</record>


    <record id="action_scrap_collection_form" model="ir.ui.view">
    <field name="name">scrap.collection.form</field>
    <field name="model">scrap.collection</field>
    <field name="arch" type="xml">
        <form >
               <header>
                        <button name="make_payment_from_collection" string="Make payment" type="object" class="oe_highlight"/>
                        <button name="Confirm_collection" string="Confirm" type="object"  confirm="Are you sure you want to Confirm the collection?" attrs="{'invisible': [('scrap_collection_state', 'not in', ('in_process'))]}" />
                         <button name="cancel_collection" confirm="Are you sure you want to cancel the collection record?" attrs="{'invisible': [('scrap_collection_state', 'not in', ('in_process'))]}" string="Cancel" groups="base.group_user" type="object" data-hotkey="z"/>
                        <field name="scrap_collection_state" nolabel="1" options="{'clickable':1}" status_visible="in_process,confirm,cancel" widget="statusbar"/>
                </header>
            <sheet>
                <div class="oe_button_box" name="inventory_button_box">
                            <button class="oe_stat_button" icon="fa-arrows-v" name="collection_to_inventory" string="Inventory" type="object">

                            </button>
                        </div>

                      <div class="oe_title">
                        <h1>
                            <field name="scrap_collection_seq" readonly="1"/>
                        </h1>
                    </div>
                <group>
                    <group>
                         <field name="scrap_seller_name"/>
                        <field name="scrap_collection_date"/>
                        <field name="scrap_address"/>
                    </group>

                    <group>
                        <field name="scrap_collection_payment" decoration-danger="scrap_collection_payment == 'not_paid'" decoration-success="scrap_collection_payment == 'paid'" decoration-muted="scrap_collection_payment == 'cancel'" />


                    </group>
                </group>
                <group>
                             <notebook>
                            <page string="Scrap Items Lines">
                                <field name="add_scrap_lines">
                                    <tree editable="bottom">
                                    <field name="scrap_item_category" />
                                    <field name="scrap_item_price"/>
                                    <field name="scrap_item_quantity" sum="scrap_item_quantity" />
                                    <field name="scrap_item_total_price" sum="scrap_item_total_price"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="About">
                                This is an example of notebooks
                            </page>
                        </notebook>

                </group>
            </sheet>
        </form>
    </field>
 </record>

 <record id="action_scrap_collection_tree" model="ir.ui.view">
   <field name="name">scrap.collection.tree</field>
   <field name="model">scrap.collection</field>
   <field name="arch" type="xml">
       <tree>
            <field name="scrap_collection_seq"/>
            <field name="scrap_collection_date"/>
             <field name="scrap_collection_payment" decoration-success="scrap_collection_payment == 'paid'" decoration-warning="scrap_collection_payment == 'not_paid'" decoration-danger="scrap_collection_payment == 'cancel'" widget="badge"/>
             <field name="scrap_collection_state" decoration-success="scrap_collection_state == 'confirm'" decoration-warning="scrap_collection_state == 'in_process'" decoration-muted="scrap_collection_state == 'cancel'" widget="badge"/>
            <field name="scrap_total_quantity" sum="scrap_quantity"/>
            <field name="scrap_total_price" sum="scrap_total_price"/>
       </tree>
   </field>
</record>
</data>

</odoo>
